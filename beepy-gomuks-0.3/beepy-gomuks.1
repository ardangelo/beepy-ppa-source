.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "Beepy Gomuks" "" "" "" ""
.hy
.SH Beepy Gomuks
.PP
Upstream Gomuks Readme: <https://github.com/tulir/gomuks>
.IP \[bu] 2
Setting up Gomuks
.RS 2
.IP \[bu] 2
Logging into Gomuks
.IP \[bu] 2
Export data from computer
.IP \[bu] 2
Import data to Gomuks
.RE
.IP \[bu] 2
Using Gomuks
.RS 2
.IP \[bu] 2
Room list
.IP \[bu] 2
Message view
.RE
.SS Setting up Gomuks
.PP
See the original Gomuks Beeper instructions for more detail:
<https://beeper.notion.site/Beepy-Beeper-Client-Setup-Tutorial-a2200b76f8764813bf7a70e9f69f46b3>
.SS Logging into Gomuks
.PP
If you have a large amount of Beeper chats, you can use Gomuks on a more
powerful computer to synchronize your account.
It is a more involved process, however.
If you don\[cq]t have a large amount of chats, you can log into Gomuks
directly without exporting.
.IP
.nf
\f[C]
     \[u2554]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]Log in to Matrix\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2557]
     \[u2551]                                      \[u2551]     
     \[u2551] Email example\[at]example.com            \[u2551]
     \[u2551]                                      \[u2551]
     \[u2551]       [Enter email to request code ] \[u2551]
     \[u2551]                                      \[u2551]
     \[u2551] Code  123456                         \[u2551]
     \[u2551]                                      \[u2551]
     \[u2551] [       Enter code to log in       ] \[u2551]
     \[u2551]                                      \[u2551]
     \[u2551] [               Quit               ] \[u2551]
     \[u255A]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u2550]\[u255D]
\f[R]
.fi
.PP
Press \f[V]Alt + Enter\f[R] for \f[V]Tab\f[R], or Meta mode arrow keys
to move between fields.
For keymaps including arrow keys and symbols, refer to
\f[V]beepy-kbd\f[R] keymap reference.
.IP \[bu] 2
Enter your email address used to sign up for Beeper.
.IP \[bu] 2
The first button will change to \f[V]Request code\f[R].
.IP \[bu] 2
Select the button, and you should recieve a 6-digit code in your email.
.IP \[bu] 2
Type the code into the \f[V]Code\f[R] text box.
.IP \[bu] 2
The second button will change to \f[V]Log in\f[R].
.PP
After logging in, refer to Using Gomuks.
.SS Export data from computer
.PP
If you have a large amount of Beeper chats, you can use Gomuks on a more
powerful computer to synchronize your account.
Then, you can transfer the synchronized state to your Beepy device.
If you would like to sync all data on your Beepy device, refer to
Logging into Gomuks.
.IP \[bu] 2
You will need an additional device running Linux, Mac OS, or Windows
with the Beeper Desktop application installed and logged in.
.IP \[bu] 2
You will also need to have set up a password for your Beeper account.
To do this, contact Beeper Help, or use this third-party script:
<https://github.com/0xdevalias/poc-beeper-password-reset>.
.IP \[bu] 2
Download the Gomuks binary:
.RS 2
.IP \[bu] 2
Linux
ARMv7 (https://mau.dev/tulir/gomuks/-/jobs/35903/artifacts/download),
ARM64 (https://mau.dev/tulir/gomuks/-/jobs/35912/artifacts/download),
x86-64 (https://mau.dev/tulir/gomuks/-/jobs/35902/artifacts/download)
.IP \[bu] 2
Mac OS
Universal (https://mau.dev/tulir/gomuks/-/jobs/35908/artifacts/download),
ARM64 (https://mau.dev/tulir/gomuks/-/jobs/35907/artifacts/download),
x64-64 (https://mau.dev/tulir/gomuks/-/jobs/35906/artifacts/download).
You may also need to install \f[V]libolm\f[R] with
\f[V]brew install libolm\f[R].
.IP \[bu] 2
Windows
x86-64 (https://mau.dev/tulir/gomuks/-/jobs/35905/artifacts/download)
.RE
.IP \[bu] 2
Make the binary executable: \f[V]chmod +x gomuks\f[R]
.IP \[bu] 2
Export end-to-end encryption keys
.RS 2
.IP \[bu] 2
Open Beeper Desktop, navigate to
\f[V]Gear > Settings > Security & Privacy\f[R], heading
\f[V]Cryptography\f[R], click \f[V]Export E2E room keys\f[R]
.IP \[bu] 2
Enter a password to help secure the keys.
.IP \[bu] 2
Save the file as \f[V]keys.txt\f[R] in the same folder as the
\f[V]gomuks\f[R] binary.
.RE
.IP \[bu] 2
Run \f[V]./gomuks --log-in-for-transfer\f[R]
.RS 2
.IP \[bu] 2
Sign in to your Beeper account, with the username
\f[V]\[at]username:beeper.com\f[R] and password created from Beeper
Support or using the script.
.IP \[bu] 2
Input encryption key password.
.RE
.SS Import data to Gomuks
.PP
Copy the exported folder to your Beepy device using \f[V]scp\f[R].
.IP
.nf
\f[C]
scp -r /path/to/transfer user\[at]beepy_ip:/destination/transfer
\f[R]
.fi
.PP
Then, edit the file at \f[V]<transfer>/config/config.yaml\f[R] to update
the following paths to the destination directory:
.IP
.nf
\f[C]
data_dir: <transfer>/data/gomuks
cache_dir: <transfer>/cache
history_path: <transfer>/cache/history.db
room_list_path: <transfer>/cache/rooms.gob.gz
media_dir: <transfer>/cache/media
state_dir: <transfer>/cache/state
\f[R]
.fi
.PP
For example, if you transfered the folder to the path
\f[V]/destination/transfer/\f[R], update the \f[V]data_dir\f[R] setting
to
.IP
.nf
\f[C]
data_dir: /destination/transfer/data/gomuks
\f[R]
.fi
.PP
Finally, edit your \f[V]\[ti]/.profile\f[R] or other configuration to
set the environment variable \f[V]GOMUKS_ROOT\f[R] to the path of the
transfer directory.
If you are using the \f[V]beepy-poll\f[R] Gomuks polling service, also
update the polling script \f[V]GOMUKS_ROOT\f[R] setting at
\f[V]\[ti]/.config/beepy-poll.d/50-gomuks\f[R].
.SS Using Gomuks
.SS Room list
.PP
On the Beepy\[cq]s small screen, the default view for Gomuks is a
single-column view, opening to the room list.
.IP
.nf
\f[C]
GOMUKS                                       12:00
* My Name and Telegram bridge bot       2024-03-31
  Last Message
Note to self                            2024-03-31
  Note Contents
Beeper Help                             2024-03-27
  Welcome to Beeper!
Beeper Updates                          0001-01-01
  Beeper Android Beta v4.1.48
\f[R]
.fi
.PP
Exit Gomuks from the room list by pressing the \f[V]Back\f[R] key,
mapped to \f[V]Escape\f[R].
.PP
The selected room is highlighted, and prefixed with a diamond marker.
Scroll the list using arrow keys (Meta mode arrow keys
\f[V]Berry + E/S\f[R] or touchpad arrow keys), and select a room using
\f[V]Enter\f[R].
For keymaps including arrow keys and symbols, refer to
\f[V]beepy-kbd\f[R] keymap reference.
.PP
In the room list, press \f[V]k\f[R] to open a room search dialog.
Start typing the name of the room to narrow down the list, then
\f[V]Enter\f[R] to select the room, or \f[V]Escape\f[R] to exit the
dialog without selecting a room.
.PP
Press \f[V]s\f[R] to open the Gomuks settings menu.
.IP \[bu] 2
\f[V]Notify on new messages\f[R] Configure new message behavior.
.RS 2
.IP \[bu] 2
\f[V]Flash LED until key pressed\f[R] New messages will flash the
notification LED.
.IP \[bu] 2
\f[V]Notification LED disabled\f[R] New messages will not flash the
notification LED.
.RE
.IP \[bu] 2
\f[V]Room list\f[R] Configure the room list view style.
.RS 2
.IP \[bu] 2
\f[V]Group rooms by tag\f[R] Group rooms into a collapsible list based
on room type.
.IP \[bu] 2
\f[V]Sort by updated\f[R] The default view, sort all rooms in a single
list by last message.
.RE
.SS Message view
.PP
The selected room view shows a list of all messages for that room, and a
text entry box.
.IP
.nf
\f[C]
Chat with Other Person
                           Scroll up to load more 

                  other-persons-name \[pc] 17:00:00 <
                      Message from Other Person
Date changed to March 31, 2024                  
> My Name \[pc] 07:00:00
Message to Other Person
                                   
Send an encrypted message... 
\f[R]
.fi
.PP
Scroll the message view using arrow keys, or using Page Up and Page Down
(Meta mode, \f[V]Berry + O/P\f[R]).
Type a message using the alpha keys, and press \f[V]Enter\f[R] to send.
.PP
Exit the message view and return to the room list by pressing the
\f[V]Back\f[R] key, mapped to \f[V]Escape\f[R].
.PP
On a larger screen, such as connected through SSH, Gomuks will display
in a two-column view.
The currently selected view, either chat list or message view, will be
highlighted with a green header bar.
